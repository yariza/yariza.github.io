{"version":3,"sources":["webpack:///./src/clouds/index.js","webpack:///./src/sketch.js","webpack:///./src/basesketch.js","webpack:///./src/clouds/shaders/clouds.vert","webpack:///./src/clouds/shaders/clouds.frag"],"names":["__webpack_require__","Clouds","options","_classCallCheck","this","_this","_possibleConstructorReturn","__proto__","Object","getPrototypeOf","call","getName","supportsAudio","setup","time","gl","ctx","context","viewport","width","height","vs","createShader","VERTEX_SHADER","shaderSource","cloudsVert","compileShader","fs","FRAGMENT_SHADER","cloudsFrag","program","createProgram","attachShader","linkProgram","getShaderParameter","COMPILE_STATUS","console","log","getShaderInfoLog","getProgramParameter","LINK_STATUS","getProgramInfoLog","vertices","Float32Array","vbuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","useProgram","uColor","getUniformLocation","uniform4fv","uTime","uniform1f","aVertexPosition","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","drawArrays","TRIANGLES","resize","mousemove","update","dt","draw","stats","end","begin","curDark","dark","Sketch","create","assign","type","retina","bind","BaseSketch","root","factory","_typeof","exports","module","document","undefined","__WEBPACK_AMD_DEFINE_RESULT__","window","MATH_PROPS","split","M","Math","CANVAS","DOM","doc","win","instances","defaults","fullscreen","autostart","autoclear","autopause","container","body","interval","globals","keyMap","8","9","13","16","27","32","37","38","39","40","isFunction","object","isString","extend","target","source","overwrite","key","proxy","method","apply","arguments","constructor","request","handler","parent","bounds","index","suffix","clock","node","copy","val","min","max","w","h","counter","touches","resized","ratio","devicePixelRatio","isDiv","is2D","mouse","x","y","ox","oy","dx","dy","eventMap","eventTarget","element","pointer","event","keyCode","keys","code","String","fromCharCode","keyName","trigger","stop","start","splice","on","length","passive","capture","style","canvas","innerHeight","innerWidth","scale","augment","touch","getBoundingClientRect","pageX","left","scrollX","pageXOffset","pageY","top","scrollY","pageYOffset","align","process","currentTarget","preventDefault","clone","originalEvent","indexOf","dragging","test","now","Date","running","millis","NaN","destroy","parentNode","removeChild","toggle","clear","clearRect","push","cAF","rAF","save","restore","WEB_GL","WEBGL","install","i","TWO_PI","PI","HALF_PI","QUARTER_PI","random","prototype","toString","isArray","isNumber","lerp","amount","map","num","minA","maxA","minB","maxB","self","createElement","getContext","appendChild","className","vendors","scope","then","a","b","c","callback","id","setTimeout","clearTimeout","setDarkMode","darkBG","match","v","parseInt","lightBG"],"mappings":"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","file":"clouds.bundle.js","sourcesContent":["import Sketch from '../sketch';\nimport BaseSketch from '../basesketch';\nimport { clamp } from '../utils';\nimport cloudsVert from './shaders/clouds.vert';\nimport cloudsFrag from './shaders/clouds.frag';\n\nexport default class Clouds extends BaseSketch {\n\n    getName = () => {\n        return 'clouds';\n    }\n\n    supportsAudio = () => {\n        return false;\n    }\n\n    constructor(options) {\n        super();\n\n        this.curDark = this.dark;\n\n        this.ctx = Sketch.create(Object.assign(options, {\n            type: 'webgl',\n            retina: false,\n        }));\n\n        this.ctx.setup = this.setup.bind(this);\n        this.ctx.resize = this.resize.bind(this);\n        this.ctx.mousemove = this.mousemove.bind(this);\n        this.ctx.update = this.update.bind(this);\n        this.ctx.draw = this.draw.bind(this);\n    }\n\n    setup = () => {\n        this.time = 0;\n\n        let gl = this.ctx.context;\n\n        gl.viewport(0, 0, this.ctx.width, this.ctx.height);\n\n        let vs = gl.createShader(gl.VERTEX_SHADER);\n        gl.shaderSource(vs, cloudsVert);\n        gl.compileShader(vs);\n\n        let fs = gl.createShader(gl.FRAGMENT_SHADER);\n        gl.shaderSource(fs, cloudsFrag);\n        gl.compileShader(fs);\n        this.fs = fs;\n\n        let program = gl.createProgram();\n        gl.attachShader(program, vs);\n        gl.attachShader(program, fs);\n        gl.linkProgram(program);\n        this.program = program;\n\n        if (!gl.getShaderParameter(vs, gl.COMPILE_STATUS))\n            console.log(gl.getShaderInfoLog(vs));\n        if (!gl.getShaderParameter(fs, gl.COMPILE_STATUS))\n            console.log(gl.getShaderInfoLog(fs));\n        if (!gl.getProgramParameter(program, gl.LINK_STATUS))\n            console.log(gl.getProgramInfoLog(program));\n\n        let vertices = new Float32Array([\n            -1.0, 1.0, 1.0, 1.0, 1.0, -1.0, // Triangle 1\n            -1.0, 1.0, 1.0, -1.0, -1.0, -1.0 // Triangle 2\n        ]);\n\n        let vbuffer = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, vbuffer);\n        gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\n\n        gl.useProgram(program);\n\n        program.uColor = gl.getUniformLocation(program, \"_color\");\n        gl.uniform4fv(program.uColor, [0.0, 0.3, 0.0, 1.0]);\n\n        program.uTime = gl.getUniformLocation(program, \"_time\");\n        gl.uniform1f(program.uTime, 0);\n\n        program.aVertexPosition = gl.getAttribLocation(program, \"position\");\n        gl.enableVertexAttribArray(program.aVertexPosition);\n        gl.vertexAttribPointer(program.aVertexPosition, 2, gl.FLOAT, false, 0, 0);\n\n        gl.drawArrays(gl.TRIANGLES, 0, 2 * 3);\n    }\n\n    resize = () => {\n\n    }\n\n    mousemove = () => {\n\n    }\n\n    update = () => {\n        let dt = this.ctx.dt / 1000;\n        \n        this.time += dt;\n    }\n\n    draw = () => {\n        if (this.stats) {\n            this.stats.end();\n            this.stats.begin();\n        }\n\n        let gl = this.ctx.context;\n\n        gl.uniform1f(this.program.uTime, this.time);\n        gl.drawArrays(gl.TRIANGLES, 0, 2 * 3);\n    }\n}\n","\n/* Copyright (C) 2013 Justin Windle, http://soulwire.co.uk */\n\n(function ( root, factory ) {\n\n  if ( typeof exports === 'object' ) {\n\n    // CommonJS like\n    module.exports = factory(root, root.document);\n\n  } else if ( typeof define === 'function' && define.amd ) {\n\n    // AMD\n    define( function() { return factory( root, root.document ); });\n\n  } else {\n\n    // Browser global\n    root.Sketch = factory( root, root.document );\n  }\n\n}( typeof window !== \"undefined\" ? window : this, function ( window, document ) {\n\n\n  \"use strict\";\n\n  /*\n  ----------------------------------------------------------------------\n\n    Config\n\n  ----------------------------------------------------------------------\n  */\n\n  var MATH_PROPS = 'E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min'.split( ' ' );\n  var HAS_SKETCH = '__hasSketch';\n  var M = Math;\n\n  var CANVAS = 'canvas';\n  var WEBGL = 'webgl';\n  var DOM = 'dom';\n\n  var doc = document;\n  var win = window;\n\n  var instances = [];\n\n  var defaults = {\n\n    fullscreen: true,\n    autostart: true,\n    autoclear: true,\n    autopause: true,\n    container: doc.body,\n    interval: 1,\n    globals: true,\n    retina: false,\n    type: CANVAS\n  };\n\n  var keyMap = {\n\n     8: 'BACKSPACE',\n     9: 'TAB',\n    13: 'ENTER',\n    16: 'SHIFT',\n    27: 'ESCAPE',\n    32: 'SPACE',\n    37: 'LEFT',\n    38: 'UP',\n    39: 'RIGHT',\n    40: 'DOWN'\n  };\n\n  /*\n  ----------------------------------------------------------------------\n\n    Utilities\n\n  ----------------------------------------------------------------------\n  */\n\n  function isArray( object ) {\n\n    return Object.prototype.toString.call( object ) == '[object Array]';\n  }\n\n  function isFunction( object ) {\n\n    return typeof object == 'function';\n  }\n\n  function isNumber( object ) {\n\n    return typeof object == 'number';\n  }\n\n  function isString( object ) {\n\n    return typeof object == 'string';\n  }\n\n  function keyName( code ) {\n\n    return keyMap[ code ] || String.fromCharCode( code );\n  }\n\n  function extend( target, source, overwrite ) {\n\n    for ( var key in source )\n\n      if ( overwrite || !( key in target ) )\n\n        target[ key ] = source[ key ];\n\n    return target;\n  }\n\n  function proxy( method, context ) {\n\n    return function() {\n\n      method.apply( context, arguments );\n    };\n  }\n\n  function clone( target ) {\n\n    var object = {};\n\n    for ( var key in target ) {\n      \n      if ( key === 'webkitMovementX' || key === 'webkitMovementY' )\n        continue;\n\n      if ( isFunction( target[ key ] ) )\n\n        object[ key ] = proxy( target[ key ], target );\n\n      else\n\n        object[ key ] = target[ key ];\n    }\n\n    return object;\n  }\n\n  /*\n  ----------------------------------------------------------------------\n\n    Constructor\n\n  ----------------------------------------------------------------------\n  */\n\n  function constructor( context ) {\n\n    var request, handler, target, parent, bounds, index, suffix, clock, node, copy, type, key, val, min, max, w, h;\n\n    var counter = 0;\n    var touches = [];\n    var resized = false;\n    var setup = false;\n    var ratio = win.devicePixelRatio || 1;\n    var isDiv = context.type == DOM;\n    var is2D = context.type == CANVAS;\n\n    var mouse = {\n      x:  0.0, y:  0.0,\n      ox: 0.0, oy: 0.0,\n      dx: 0.0, dy: 0.0\n    };\n\n    var eventMap = [\n\n      context.eventTarget || context.element,\n\n        pointer, 'mousedown', 'touchstart',\n        pointer, 'mousemove', 'touchmove',\n        pointer, 'mouseup', 'touchend',\n        pointer, 'click',\n        pointer, 'mouseout',\n        pointer, 'mouseover',\n\n      doc,\n\n        keypress, 'keydown', 'keyup',\n\n      win,\n\n        active, 'focus', 'blur',\n        resize, 'resize'\n    ];\n\n    var keys = {}; for ( key in keyMap ) keys[ keyMap[ key ] ] = false;\n\n    function trigger( method ) {\n\n      if ( isFunction( method ) )\n\n        method.apply( context, [].splice.call( arguments, 1 ) );\n    }\n\n    function bind( on ) {\n\n      for ( index = 0; index < eventMap.length; index++ ) {\n\n        node = eventMap[ index ];\n\n        if ( isString( node ) )\n\n        target[ ( on ? 'add' : 'remove' ) + 'EventListener' ].call( target, node, handler, {\n          passive: false,\n          capture: false,\n        });\n\n        else if ( isFunction( node ) )\n\n          handler = node;\n\n        else target = node;\n      }\n    }\n\n    function update() {\n\n      cAF( request );\n      request = rAF( update );\n\n      if ( !setup ) {\n\n        trigger( context.setup );\n        setup = isFunction( context.setup );\n      }\n\n      if ( !resized ) {\n        trigger( context.resize );\n        resized = isFunction( context.resize );\n      }\n\n      if ( context.running && !counter ) {\n\n        context.dt = ( clock = +new Date() ) - context.now;\n        context.millis += context.dt;\n        context.now = clock;\n\n        trigger( context.update );\n\n        // Pre draw\n\n        if ( is2D ) {\n\n          if ( context.retina ) {\n\n            context.save();\n            \n            if (context.autoclear) {\n              context.scale( ratio, ratio );\n            }\n          }\n\n          if ( context.autoclear )\n\n            context.clear();\n        }\n\n        // Draw\n\n        trigger( context.draw );\n\n        // Post draw\n\n        if ( is2D && context.retina )\n\n          context.restore();\n      }\n\n      counter = ++counter % context.interval;\n    }\n\n    function resize() {\n\n      target = isDiv ? context.style : context.canvas;\n      suffix = isDiv ? 'px' : '';\n\n      w = context.width;\n      h = context.height;\n\n      if ( context.fullscreen ) {\n\n        h = context.height = win.innerHeight;\n        w = context.width = win.innerWidth;\n      }\n\n      if ( context.retina && is2D && ratio ) {\n\n        target.style.height = h + 'px';\n        target.style.width = w + 'px';\n\n        w *= ratio;\n        h *= ratio;\n      }\n\n      if ( target.height !== h )\n\n        target.height = h + suffix;\n\n      if ( target.width !== w )\n\n        target.width = w + suffix;\n\n      if ( is2D && !context.autoclear && context.retina )\n\n        context.scale( ratio, ratio );\n\n      if ( setup ) trigger( context.resize );\n    }\n\n    function align( touch, target ) {\n\n      bounds = target.getBoundingClientRect();\n\n      touch.x = touch.pageX - bounds.left - (win.scrollX || win.pageXOffset);\n      touch.y = touch.pageY - bounds.top - (win.scrollY || win.pageYOffset);\n\n      return touch;\n    }\n\n    function augment( touch, target ) {\n\n      align( touch, context.element );\n\n      target = target || {};\n\n      target.ox = target.x || touch.x;\n      target.oy = target.y || touch.y;\n\n      target.x = touch.x;\n      target.y = touch.y;\n\n      target.dx = target.x - target.ox;\n      target.dy = target.y - target.oy;\n\n      return target;\n    }\n\n    function process( event ) {\n\n      if ( event.currentTarget === context.element )\n\n        event.preventDefault();\n\n      copy = clone( event );\n      copy.originalEvent = event;\n\n      if ( copy.touches ) {\n\n        touches.length = copy.touches.length;\n\n        for ( index = 0; index < copy.touches.length; index++ )\n\n          touches[ index ] = augment( copy.touches[ index ], touches[ index ] );\n\n      } else {\n\n        touches.length = 0;\n        touches[0] = augment( copy, mouse );\n      }\n\n      extend( mouse, touches[0], true );\n\n      return copy;\n    }\n\n    function pointer( event ) {\n\n      event = process( event );\n\n      min = ( max = eventMap.indexOf( type = event.type ) ) - 1;\n\n      context.dragging =\n\n        /down|start/.test( type ) ? true :\n\n        /up|end/.test( type ) ? false :\n\n        context.dragging;\n\n      while( min )\n\n        isString( eventMap[ min ] ) ?\n\n          trigger( context[ eventMap[ min-- ] ], event ) :\n\n        isString( eventMap[ max ] ) ?\n\n          trigger( context[ eventMap[ max++ ] ], event ) :\n\n        min = 0;\n    }\n\n    function keypress( event ) {\n\n      key = event.keyCode;\n      val = event.type == 'keyup';\n      keys[ key ] = keys[ keyName( key ) ] = !val;\n\n      trigger( context[ event.type ], event );\n    }\n\n    function active( event ) {\n\n      if ( context.autopause )\n\n        ( event.type == 'blur' ? stop : start )();\n\n      trigger( context[ event.type ], event );\n    }\n\n    // Public API\n\n    function start() {\n\n      context.now = +new Date();\n      context.running = true;\n    }\n\n    function stop() {\n\n      context.running = false;\n    }\n\n    function toggle() {\n\n      ( context.running ? stop : start )();\n    }\n\n    function clear() {\n\n      if ( is2D )\n\n        context.clearRect( 0, 0, context.width * ratio, context.height * ratio );\n    }\n\n    function destroy() {\n\n      parent = context.element.parentNode;\n      index = instances.indexOf( context );\n\n      if ( parent ) parent.removeChild( context.element );\n      if ( ~index ) instances.splice( index, 1 );\n\n      bind( false );\n      stop();\n    }\n\n    extend( context, {\n\n      touches: touches,\n      mouse: mouse,\n      keys: keys,\n\n      dragging: false,\n      running: false,\n      millis: 0,\n      now: NaN,\n      dt: NaN,\n\n      destroy: destroy,\n      toggle: toggle,\n      clear: clear,\n      start: start,\n      stop: stop\n    });\n\n    instances.push( context );\n\n    return ( context.autostart && start(), bind( true ), resize(), update(), context );\n  }\n\n  /*\n  ----------------------------------------------------------------------\n\n    Global API\n\n  ----------------------------------------------------------------------\n  */\n\n  var element, context, Sketch = {\n\n    CANVAS: CANVAS,\n    WEB_GL: WEBGL,\n    WEBGL: WEBGL,\n    DOM: DOM,\n\n    instances: instances,\n\n    install: function( context ) {\n\n      if ( !context[ HAS_SKETCH ] ) {\n\n        for ( var i = 0; i < MATH_PROPS.length; i++ )\n\n          context[ MATH_PROPS[i] ] = M[ MATH_PROPS[i] ];\n\n        extend( context, {\n\n          TWO_PI: M.PI * 2,\n          HALF_PI: M.PI / 2,\n          QUARTER_PI: M.PI / 4,\n\n          random: function( min, max ) {\n\n            if ( isArray( min ) )\n\n              return min[ ~~( M.random() * min.length ) ];\n\n            if ( !isNumber( max ) )\n\n              max = min || 1, min = 0;\n\n            return min + M.random() * ( max - min );\n          },\n\n          lerp: function( min, max, amount ) {\n\n            return min + amount * ( max - min );\n          },\n\n          map: function( num, minA, maxA, minB, maxB ) {\n\n            return ( num - minA ) / ( maxA - minA ) * ( maxB - minB ) + minB;\n          }\n        });\n\n        context[ HAS_SKETCH ] = true;\n      }\n    },\n\n    create: function( options ) {\n\n      options = extend( options || {}, defaults );\n\n      if ( options.globals ) Sketch.install( self );\n\n      element = options.element = options.element || doc.createElement( options.type === DOM ? 'div' : 'canvas' );\n\n      context = options.context = options.context || (function() {\n\n        switch( options.type ) {\n\n          case CANVAS:\n\n            return element.getContext( '2d', options );\n\n          case WEBGL:\n\n            return element.getContext( 'webgl', options ) || element.getContext( 'experimental-webgl', options );\n\n          case DOM:\n\n            return element.canvas = element;\n        }\n\n      })();\n\n      ( options.container || doc.body ).appendChild( element );\n\n      return Sketch.augment( context, options );\n    },\n\n    augment: function( context, options ) {\n\n      options = extend( options || {}, defaults );\n\n      options.element = context.canvas || context;\n      options.element.className += ' sketch';\n\n      extend( context, options, true );\n\n      return constructor( context );\n    }\n  };\n\n  /*\n  ----------------------------------------------------------------------\n\n    Shims\n\n  ----------------------------------------------------------------------\n  */\n\n  var vendors = [ 'ms', 'moz', 'webkit', 'o' ];\n  var scope = self;\n  var then = 0;\n\n  var a = 'AnimationFrame';\n  var b = 'request' + a;\n  var c = 'cancel' + a;\n\n  var rAF = scope[ b ];\n  var cAF = scope[ c ];\n\n  for ( var i = 0; i < vendors.length && !rAF; i++ ) {\n\n    rAF = scope[ vendors[ i ] + 'Request' + a ];\n    cAF = scope[ vendors[ i ] + 'Cancel' + a ];\n  }\n\n  scope[ b ] = rAF = rAF || function( callback ) {\n\n    var now = +new Date();\n    var dt = M.max( 0, 16 - ( now - then ) );\n    var id = setTimeout( function() {\n      callback( now + dt );\n    }, dt );\n\n    then = now + dt;\n    return id;\n  };\n\n  scope[ c ] = cAF = cAF || function( id ) {\n    clearTimeout( id );\n  };\n\n  /*\n  ----------------------------------------------------------------------\n\n    Output\n\n  ----------------------------------------------------------------------\n  */\n\n  return Sketch;\n\n}));\n","export default class BaseSketch {\n    constructor() {\n        this.dark = (document.body.id === 'dark') ? 1 : 0;\n    }\n\n    getName = () => {\n        return 'untitled';\n    }\n\n    supportsAudio = () => {\n        return false;\n    }\n\n    setDarkMode = (dark) => {\n        this.dark = (dark === true) ? 1 : 0;\n    }\n\n    darkBG = \"#0e0e0e\".match(/[A-Za-z0-9]{2}/g).map(function(v) { return parseInt(v, 16) / 255 });\n    lightBG = \"#ffffff\".match(/[A-Za-z0-9]{2}/g).map(function(v) { return parseInt(v, 16) / 255 });\n}\n","module.exports = \"#define GLSLIFY 1\\nattribute vec2 position;\\n\\nvarying vec2 uv;\\n\\nvoid main() {\\n    uv = position * 0.5 + 0.5;\\n    gl_Position = vec4(position, 0.0, 1.0);\\n}\\n\"","module.exports = \"precision highp float;\\n#define GLSLIFY 1\\n\\nuniform vec4 _color;\\nuniform float _time;\\n\\nvarying vec2 uv;\\n\\nvoid main() {\\n    \\n\\n    gl_FragColor = vec4(uv, 0.0, 1.0);\\n}\\n\""],"sourceRoot":""}